#summary Top level psd file format description.
#labels Phase-Implementation

= Introduction =

This page brings information about top level psd file format descritption. Other pages discuss detailed about each part.


= Details =

Psd file could be divaded to 5 base parts:
  # Header
  # Color mode data
  # Image resources
  # Layer and Mask
  # Image data

== Header section ==

Header section has exactly 26 bytes. Contains base information about whole image like image dimensions, number of channels, color depth and color mode.

== Color Mode section ==

First 4 bytes contains length of this section (except this 4 bytes). By Photoshop File Formats document only indexed color and duotone mode have color mode data. Otherwise is length of this section set to 0.

== Image resources section ==

First 4 bytes contains length of this section (except this 4 bytes). Contains metadata information about image. Eaach information starts with *8BIM* signature, follows resource ID, name size of resource data and resource data.

== Layer and Mask section ==

First 4 bytes contains length of this section (except this 4 bytes). This section contains  information about number of layers and detailed information about each layer separately. Layer information is e.g.:
  * top, left, bottom, right coordinates
  * number of channels in layer
  * blend mode information
  * opacity
  * clipping
  * transparency lock and visibility flags
  * and more ...

== Image Data section ==

First 2 bytes means compression method, then image data follows encoded by method.